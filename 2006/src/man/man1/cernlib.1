.TH cernlib 1 "$Date: 1998/05/19 16:32:03 $" "CERN Program Library"
"CERNlib commands" 
.ds )H Cern Program Library
.ds ]W cernlib
.SH NAME
cernlib \- get libraries needed to link with CERN Program Library
.SH SYNOPSIS
.B cernlib
.RI [options]
.I library[/version]
.I ...

.SH DESCRIPTION

.B cernlib
writes to standard output a list of object libraries needed to link 
a program with the given 
.I library(s)
of CERNlib; other libraries needed implicitely, both
CERNlib and system libraries, are added automatically. 
.I library
may be any of the CERNlib libraries using a short name like packlib,
mathlib, graflib, phtools... 
.PP
.I version
allows to specify which version to use for this library, see usage notes. 

.SS Options

.B cernlib 
recognizes the following options:

.TP 11
.BI "-G\ " "driver"
specifies the graphics interface to use. Defaults to X11. 
The choices available depend on the system in use:
.RS 14
.IP X11   7
all systems. On HP/UX X11R5 is used when available on the system.
.IP Motif
all systems. On HP/UX Motif1.2 is used when available on the system.
.IP GKS 
Vendor specific graphics, DEC Ultrix, IBM/RS6000, SUN only
.IP GPR
Vendor specific graphics, Apollo only.
.IP GL
Vendor specific graphics, IBM/RS6000 and SGI only.
.RE

.TP 11
.B -s
obsolete option. Ignored.

.TP 11
.B -u
do 
.B not
automatically add vendor libraries needed to link,
but not specified by the user.

.TP
.BI "-v\ " "version"
Use level 
.I version
of CERNlib libraries; 
.I version 
can be pro, new or old, or you may specify the explicit version number; the
default version is pro. The global version can be overwritten for an
individual library by specifying the 
.I library 
as 
.I library/version.

.SS USAGE

.B cernlib 
expects to find the CERNlib directory tree in /cern; if your system does
not have this, set the environment variable CERN to contain the name of the
root directory for the CERNlib tree.
.PP  
After the
.I library
a version for that library different from the default version may be
specified. The possible values are as for the 
.B -v 
option, or in the case of 
graflib as for the 
.B -G
option.

.SS EXAMPLES

As 
.B cernlib
writes the list of libraries to standard output, using it as a command will 
show the list of libraries generated by cernlib. Also, it can be used like
other commands in the command line surrounded by back quotes(`). 
At CERN you should use the hepf77 command to link on your system as this
gives the compiler parameters which are compatible with Cernlib  
(in particular for xlf on IBM/RS6000 and fort77 on HP/UX ) 
you could type:
.RS 5
hepf77 your.o `cernlib`
.RE
to link your object file with routines from packlib and kernlib; you need 
not specify packlib, as this is added automatically. Also all
kernlib routines are included in packlib.
If your application uses graflib and the Motif interface, the command would
be:
.RS 5
hepf77 your.o `cernlib graflib/Motif`
.RE
Again packlib need not be specified.
.PP
If you prefer to have an environment variable CERNLIB set at login time,
put the following into 
.RS 5
 .profile for sh, ksh or similar
.RS 5
CERNLIB=`cernlib graflib`; export CERNLIB
.RE
 .login for users of csh of similar
.RS 5
setenv CERNLIB "`cernlib graflib`"
.RE
.RE
The CERNLIB variable can then be used in the link command instead of
calling the cernlib command.

.SS BUGS

There is no checking that any of the libraries (or options) are valid or exist. 
Most loaders only check the libraries once for symbols, hence the order 
the libraries given is important. This command does not check that the 
order given is correct.

For systems other than Alliant, Apollo, DEC Ultrix, Digital Unix (or  DEC OSF),
HP/UX, SGI, Linux, Sun OS, Sun Solaris  
the libraries given for the graphics interface are likely to be wrong, 
even for X11 and Motif.

.SS FILES

The cernlib command is available in the /cern/pro/bin directory 
in the CERNlib tree. 

.SS CONTACT Address

If you have suggestions for improvements, or find bugs, please report them to
.RS 5 
cernlib@cern.ch.
.RE
Your report must state which version of CERNlib you are using, or the output of
the command:
.RS 5
what `which cernlib`
.RE
